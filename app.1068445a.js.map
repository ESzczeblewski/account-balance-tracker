{"version":3,"sources":["app.js"],"names":["form","document","querySelector","inputText","inputNumber","historyList","currentBalance","income","expense","state","handleSubmit","e","preventDefault","name","value","transaction","id","Date","now","plus","push","target","reset","dispatchEvent","CustomEvent","addToHistory","html","map","item","join","innerHTML","identifyTransaction","currentIncome","currentExpenses","forEach","parseInt","textContent","deleteTransaction","newState","filter","saveStateToLocalStorage","localStorage","setItem","JSON","stringify","restoreFromLocalStorage","stateRef","parse","getItem","addEventListener"],"mappings":";AAmFuB,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAnFvB,IAAMA,EAAOC,SAASC,cAAc,QAC9BC,EAAYF,SAASC,cAAc,sBACnCE,EAAcH,SAASC,cAAc,uBACrCG,EAAcJ,SAASC,cAAc,kBAErCI,EAAiBL,SAASC,cAAc,iBACxCK,EAASN,SAASC,cAAc,0BAChCM,EAAUP,SAASC,cAAc,2BAEnCO,EAAQ,GAEZ,SAASC,EAAaC,GACpBA,EAAEC,iBACIC,IAAAA,EAAOV,EAAUW,MACfA,EAAUV,EAAVU,MACFC,EAAc,CAClBF,KAAAA,EACAC,MAAAA,EACAE,GAAIC,KAAKC,MACTC,KAAML,EAAQ,GAEhBL,EAAMW,KAAKL,GACXJ,EAAEU,OAAOC,QACTjB,EAAYkB,cAAc,IAAIC,YAAY,gBAG5C,SAASC,IACDC,IAAAA,EAAOjB,EACVkB,IACC,SAACC,GAAuBA,MAAAA,cAAAA,OAAAA,EAAKT,KAAO,OAAS,QAC9BS,2BAAAA,OAAAA,EAAKZ,GACpBY,4BAAAA,OAAAA,EAAKf,KACEe,iBAAAA,OAAAA,EAAKd,MAHZ,wBAMDe,KAAK,IACRxB,EAAYyB,UAAYJ,EAG1B,SAASK,IACHC,IAAAA,EAAgB,EAChBC,EAAkB,EACtBxB,EAAMyB,QAAQ,SAAUN,GAClBA,EAAKd,MAAQ,EACfkB,GAAiBG,SAASP,EAAKd,OACtBc,EAAKd,MAAQ,IACtBmB,GAAmBE,SAASP,EAAKd,UAGrCP,EAAO6B,YAAkBJ,IAAAA,OAAAA,GACzBxB,EAAQ4B,YAAkBH,IAAAA,OAAAA,GAE1B3B,EAAe8B,YAAkBJ,IAAAA,OAAAA,EAAgBC,GAEnD,SAASI,EAAkBrB,GACnBsB,IAAAA,EAAW7B,EAAM8B,OAAO,SAAUX,GAC/BA,OAAAA,EAAKZ,KAAOA,IAErBP,EAAQ6B,EACRjC,EAAYkB,cAAc,IAAIC,YAAY,gBAG5C,SAASgB,IACPC,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUnC,IAGtD,SAASoC,IACDC,IACQ,EADRA,EAAWH,KAAKI,MAAMN,aAAaO,QAAQ,iBAC7CF,KACFrC,EAAAA,GAAMW,KAAQ0B,MAAAA,EAAAA,EAAAA,IACdrB,KAEFpB,EAAYkB,cAAc,IAAIC,YAAY,gBAG5CxB,EAAKiD,iBAAiB,SAAUvC,GAChCL,EAAY4C,iBAAiB,cAAelB,GAC5C1B,EAAY4C,iBAAiB,cAAexB,GAC5CpB,EAAY4C,iBAAiB,cAAeT,GAC5CnC,EAAY4C,iBAAiB,QAAS,SAAUtC,GAE9C0B,EADWF,SAASxB,EAAEU,OAAOP,UAG/B+B","file":"app.1068445a.js","sourceRoot":"..","sourcesContent":["const form = document.querySelector('.add');\nconst inputText = document.querySelector('input[name=\"name\"]');\nconst inputNumber = document.querySelector('input[name=\"value\"]');\nconst historyList = document.querySelector('.history__list');\n// const balance = document.querySelector('.balance');\nconst currentBalance = document.querySelector('.balance span');\nconst income = document.querySelector('.expenses__income span');\nconst expense = document.querySelector('.expenses__expense span');\n// const submitBtn = document.querySelector('button[type=\"submit\"]');\nlet state = [];\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const name = inputText.value;\n  const { value } = inputNumber;\n  const transaction = {\n    name,\n    value,\n    id: Date.now(),\n    plus: value > 0,\n  };\n  state.push(transaction);\n  e.target.reset();\n  historyList.dispatchEvent(new CustomEvent('listUpdated'));\n}\n\nfunction addToHistory() {\n  const html = state\n    .map(\n      (item) => `<li class=\"${item.plus ? 'plus' : 'minus'}\">\n    <button value=\"${item.id}\">&times;</button>\n    ${item.name}\n    <span\">${item.value}</span>\n    </li>`\n    )\n    .join('');\n  historyList.innerHTML = html;\n}\n\nfunction identifyTransaction() {\n  let currentIncome = 0;\n  let currentExpenses = 0;\n  state.forEach(function (item) {\n    if (item.value > 0) {\n      currentIncome += parseInt(item.value);\n    } else if (item.value < 0) {\n      currentExpenses += parseInt(item.value);\n    }\n  });\n  income.textContent = `$${currentIncome}`;\n  expense.textContent = `$${currentExpenses}`;\n  // Update overall balance\n  currentBalance.textContent = `$${currentIncome + currentExpenses}`;\n}\nfunction deleteTransaction(id) {\n  const newState = state.filter(function (item) {\n    return item.id !== id;\n  });\n  state = newState;\n  historyList.dispatchEvent(new CustomEvent('listUpdated'));\n}\n\nfunction saveStateToLocalStorage() {\n  localStorage.setItem('transactions', JSON.stringify(state));\n}\n\nfunction restoreFromLocalStorage() {\n  const stateRef = JSON.parse(localStorage.getItem('transactions'));\n  if (stateRef) {\n    state.push(...stateRef);\n    addToHistory();\n  }\n  historyList.dispatchEvent(new CustomEvent('listUpdated'));\n}\n\nform.addEventListener('submit', handleSubmit);\nhistoryList.addEventListener('listUpdated', identifyTransaction);\nhistoryList.addEventListener('listUpdated', addToHistory);\nhistoryList.addEventListener('listUpdated', saveStateToLocalStorage);\nhistoryList.addEventListener('click', function (e) {\n  const id = parseInt(e.target.value);\n  deleteTransaction(id);\n});\nrestoreFromLocalStorage();\n"]}